<div class="login-page">
  <!-- Fondo borroso con efecto de profundidad -->
  <div class="background-blur">
    <div class="blur-circle blur-circle-1"></div>
    <div class="blur-circle blur-circle-2"></div>
    <div class="blur-circle blur-circle-3"></div>
    <div class="blur-overlay"></div>
  </div>

  <!-- Header con navegaciÃ³n -->
  <header class="login-header">
    <nav class="login-navbar">
      <button class="back-btn" (click)="onBackToHome()">
        â† Volver
      </button>
      
      <a href="/homepage" class="logo-login">
        <span class="u-part">U</span><span class="x-part">X</span><span class="t-part">T</span><span class="racks-part">racks</span>
      </a>
      
      <div class="header-links">
        <a href="#manual">Manual de usuario</a>
        <a href="" (click)="onRegister($event)">Registrarse</a>
        <button class="btn-header-login active">Iniciar sesiÃ³n</button>
      </div>
    </nav>
  </header>

  <!-- Contenedor principal del login -->
  <main class="login-main">
    <div class="login-container">
      <!-- Card de login -->
      <div class="login-card">
        <!-- Logo dentro de la card -->
        <div class="login-card-header">
          <div class="logo-card">
            <span class="u-part">U</span><span class="x-part">X</span><span class="t-part">T</span>
          </div>
          <h1>Iniciar sesiÃ³n</h1>
        </div>

        <!-- Formulario -->
        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
          <!-- Campo Usuario/Email -->
          <div class="form-group">
            <label for="email">Usuario</label>
            <div class="input-wrapper">
              <input
                type="email"
                id="email"
                formControlName="email"
                class="form-input"
                [class.error]="hasError('email', 'required') || hasError('email', 'email')"
                placeholder="Ingresa tu email"
                autocomplete="email"
              />
              <span class="input-icon">ğŸ‘¤</span>
            </div>
            <div class="error-message" *ngIf="email?.touched && email?.errors">
              {{ getErrorMessage('email') }}
            </div>
          </div>

          <!-- Campo ContraseÃ±a -->
          <div class="form-group">
            <label for="password">ContraseÃ±a</label>
            <div class="input-wrapper">
              <input
                [type]="showPassword ? 'text' : 'password'"
                id="password"
                formControlName="password"
                class="form-input"
                [class.error]="hasError('password', 'required') || hasError('password', 'minlength')"
                placeholder="Ingresa tu contraseÃ±a"
                autocomplete="current-password"
              />
              <button
                type="button"
                class="password-toggle"
                (click)="togglePasswordVisibility()"
                [attr.aria-label]="showPassword ? 'Ocultar contraseÃ±a' : 'Mostrar contraseÃ±a'"
              >
                {{ showPassword ? 'ğŸ™ˆ' : 'ğŸ‘ï¸' }}
              </button>
            </div>
            <div class="error-message" *ngIf="password?.touched && password?.errors">
              {{ getErrorMessage('password') }}
            </div>
          </div>

          <!-- Recordarme -->
          <div class="form-options">
            

            <button
              type="button"
              class="forgot-password-link"
              (click)="onForgotPassword()"
            >
              Â¿Olvidaste tu contraseÃ±a?
            </button>
          </div>
       <button
            type="submit"
            class="btn-login"
            [disabled]="isLoading || !loginForm.valid"
            [class.loading]="isLoading"
          >
            <span *ngIf="!isLoading">Iniciar sesiÃ³n</span>
            <span *ngIf="isLoading" class="loading-spinner">â³ Iniciando sesiÃ³n...</span>
          </button>
          
          <p class="register-footer">
            Â¿AÃºn no tienes una cuenta? 
            <button type="button" class="register-link" (click)="onRegister($event)">
              Registrarse
            </button>
          </p>
          

          <!-- Error general -->
          <div class="login-error" *ngIf="loginError">
            {{ loginError }}
          </div>